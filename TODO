## 0.9.1 Minor Release

Focus: Search improvements, file sorting, optional torrent support. Stability-focused.

### âœ… Goals:

* Add flexible search parser
* Add file sorting options
* Optional: Add torrent download support
* Under-the-hood logging improvements
* Minor UI enhancement foundations

### ğŸ“ TODO List:

#### ğŸ” Search Parser

* [ ] Design search expression grammar (support `&`, `|`, `NOT`, `TAG`, `TYPE`)
* [ ] Implement parser (possibly with `lark`, `pyparsing`, or hand-rolled recursive descent)
* [ ] Integrate with file metadata and filtering logic
* [ ] Add test cases for parsing edge cases
* [ ] Add fallback mode: `"abc"` as fuzzy substring match

#### ğŸ“ File Sorting

* [x] Add UI control (e.g., dropdown: Name, Size, Time)
* [x] Backend sorting logic
* [x] Store last used sort option in session

#### ğŸŒ Torrent Support (Optional)

* [ ] Choose backend library (e.g. `libtorrent`, `aria2`, `webtorrent`)
* [ ] Provide basic UI for adding `.torrent` file or magnet link
* [ ] Monitor progress and display file list
* [ ] Route downloaded content into userâ€™s cloud directory

#### ğŸªµ Logging

* [ ] Add structured log statements to major code paths (e.g., file ops, auth, system ops)
* [ ] Support toggling debug/info level in config
* [ ] Route logs to rotating log file or journald

### ğŸ™… Custom 404 page

* [ ] Custom 404 page in the style of *-theme.css 

---

## 0.10.0 Major Release

Focus: Plugin website, full WebDAV support, code refactor, testing, and extensibility.

### âœ… Goals:

* Full WebDAV support (start from scratch)
* Plugin website / plugin manager
* Basic unit and integration tests
* Code refactor for clarity and structure
* Add file version control
* Add media streaming support
* Disk management UI improvements
* Optional systemd-based deployment mode (non-Docker)
* Backup system (disk mount + config)

### ğŸ“ TODO List:

#### ğŸŒ WebDAV Support

* [ ] Create a standalone WebDAV layer (either from spec or use `wsgidav`)
* [ ] Map routes to Squirrel's file provider
* [ ] Support PROPFIND, GET, PUT, DELETE
* [ ] Permissions integration
* [ ] WebDAV-specific tests

#### ğŸ”Œ Plugin Website

* [ ] Build plugin index frontend (listing + search)
* [ ] Design plugin metadata format (e.g., `plugin.json`)
* [ ] Add in-app plugin manager (install/enable/remove)

#### ğŸ§ª Testing System

* [ ] Set up `pytest` framework
* [ ] Write tests for core features (auth, file CRUD, tag, search)
* [ ] Add disk mounting mock tests (non-root)
* [ ] Optionally run CI via GitHub Actions

#### â™»ï¸ Code Refactor

* [ ] Split platform-dependent logic (Docker vs native)
* [ ] Abstract restart logic, system tools, env detection
* [ ] Move disk/system logic to `core/system/`
* [ ] Rename unclear variables/functions

#### ğŸ•˜ File Version Control

* [ ] Decide versioning method: file copies or content diffs
* [ ] Track metadata: versions, timestamps, deltas
* [ ] UI for viewing, comparing, and restoring past versions

#### ğŸ¥ Media Streaming

* [ ] Add MIME detection and `Content-Range` support for video
* [ ] Support progressive streaming
* [ ] Optional transcoding backend (e.g., `ffmpeg`, `streamlink`)

#### ğŸ¨ Better Disk Management UI

* [ ] Redesign disk panel (list, partitions, RAID, format options)
* [ ] Show mount status, usage, filesystem type
* [ ] UI triggers system calls or squirrel-agent

#### ğŸ’¾ Backup System

* [ ] User config for backup mount (path, schedule, target disk)
* [ ] UI for creating backup configuration
* [ ] Scheduled task (or manual trigger) to sync data
* [ ] Detect disk availability

#### ğŸ–¥ï¸ Systemd Native Deployment Support

* [ ] Provide install script for systemd deployment
* [ ] Create service unit template
* [ ] Document restart behavior without Docker

#### ğŸ‘Œ UI Improvements

* [ ] Use more icon instead of text and emoji

---

[ ] Regulate path before inserting it into database.
[ ] æ”¯æŒå¤šä¸ªä¸»å­˜å‚¨ç›®å½•
[ ] Is it right to query disk space in a docker containner?
[ ] UIå¯ä»¥é€‰æ‹©åˆ†äº«å¤–é“¾çš„è¿‡æœŸæ—¶é—´
[ ] è‡ªåŠ¨ä»æœ¬åœ°æ–‡ä»¶å¤¹ä¸­å¯¼å…¥æ–‡ä»¶
[ ] éšç§ç›®å½•ï¼Œä»…æœç´¢å¯è§
[ ] æ‰‹åŠ¨ä¸Šä¼ æ›´æ–°
[ ] æ›´æ–°æœåŠ¡å™¨éƒ¨ç½²æ•™ç¨‹
[ ] appéƒ¨ç½²æ•™ç¨‹
[ ] é¢„è§ˆæ–‡æœ¬åªèƒ½ä¿å­˜åˆ°æ–°æ–‡ä»¶ï¼Œæœ‰ç‚¹ä¸æ–¹ä¾¿
[ ] ä¸ªäººç£ç›˜ç”¨é‡æŸ¥çœ‹
[ ] Seeking hanging file.
[ ] å°†é¢œè‰²ã€æ ·å¼ç­‰ä¸ä¸»é¢˜æœ‰å…³çš„CSSç§»åŠ¨åˆ°xxx-theme.cssä¸­
[ ] ç”¨æˆ·å¯åœ¨Account tabé‡Œé¢æ›´æ–°ä¸ªäººä¿¡æ¯
[ ] å®ç°ä¸€ä¸ªpythonå®¢æˆ·ç«¯åº“
[ ] åœ¨å®¢æˆ·ç«¯åº“çš„åŸºç¡€ä¸Šå®ç°å®¢æˆ·ç«¯
[ ] æ™ºèƒ½æ ‡ç­¾
[ ] å¯åˆ›å»ºæ–°æ–‡æœ¬æ–‡ä»¶
[ ] Bug: HTTPä¸‹è½½åˆ—è¡¨åˆ·æ–°ä¸æ­£å¸¸

[x] è®©ç§»åŠ¨æ–‡ä»¶çš„æ¥å£æ›´å¥½ç”¨
[x] æ–°å¢è®¾ç½®ï¼šä¸Šä¼ é»‘åå•ï¼ˆæ–‡ä»¶åã€ç­‰å±æ€§ï¼‰
[x] zipå½¢å¼ä¸‹è½½æ–‡ä»¶å¤¹
[x] ç®¡ç†å‘˜å¯åœ¨webä¸Šä¿®æ”¹åŠæ›´æ–°update server
[x] ä¼˜åŒ–ä¸Šä¼ åŠ¨ç”»ï¼ˆä¸Šä¼ è¿›åº¦æ¡ï¼‰
[x] å›æ”¶ç«™
[x] Version api.
[x] Upload limitation. (Seems no limitation by default)
[x] External link(file sharing with non-sc user).
[x] Tag.
[x] Redirect to login.html if not logged in.
[x] Check if a file is already tagged before attach a tag.
[x] Move file or directory.
[x] Webæ–°å¢è¿”å›ä¸Šä¸€çº§æŒ‰é’®åŠè¿”å›ä¸»é¡µæŒ‰é’®
[x] æ–°å¢æ¥å£ï¼šæ£€æµ‹ç›®å½•æˆ–æ–‡ä»¶æ˜¯å¦å­˜åœ¨
[x] æ–°å¢æ¥å£åŠUI æŸ¥è¯¢ä¸»å­˜å‚¨ç›®å½•çš„æ€»å®¹é‡åŠç©ºé—²å®¹é‡
[x] Bug: TestingæœåŠ¡å™¨æ— æ³•åˆ†äº«å¤–é“¾ æœåŠ¡å™¨æŠ¥é”™500
[x] Bug: éƒ¨åˆ†æ–‡ä»¶ä¸‹è½½æ˜¾ç¤ºæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä½†ä¸»ç›®å½•ä¸­ç¡®å®åŒ…å«è¯¥æ–‡ä»¶
[x] Bug: ä¸»ç›®å½•ä¸­åŒ…å«å¾ˆå¤šä¸åº”è¯¥å­˜åœ¨çš„ã€ä»¥uuidå‘½åçš„æ–‡ä»¶
[x] æ ¹ç›®å½•è‡ªåŠ¨è·¯ç”±åˆ°app.html
[x] é¢„è§ˆæ–‡æœ¬æ–‡ä»¶æ—¶å¯ä»¥ç¼–è¾‘
[x] Seeking replicas.
[x] æ‰¾é‡å¤æ–‡ä»¶ï¼šä»å¤§åˆ°å°æ’åº
[x] replicas tableçš„é¢œè‰²å’Œè¡Œæ ¼å¼
[x] replicas tableå¯ä»¥ç›´æ¥åˆ é™¤æ–‡ä»¶
[x] æ–°å¢æ¥å£åŠUI ç®¡ç†å‘˜æŸ¥è¯¢åŠç®¡ç†æ‰€æœ‰ç”¨æˆ·
[x] åˆ›å»ºæ›´å¤šä¸»é¢˜
[x] ä¸»é¡µä¸Šå¯æ›´æ”¹ä¸»é¢˜
[x] å¢åŠ ä¸€ä¸ªæŸ¥è¯¢ç›®å½•å¤§å°çš„æ¥å£
[x] å¤šäººå…±äº«ç›®å½•
[x] HTTPä¸‹è½½ä»»åŠ¡
[x] ç°æœ‰çš„åˆ†äº«å¤–é“¾åˆ—è¡¨
