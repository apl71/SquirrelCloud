<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <meta name="author" content="apl71" />
    <title>Squirrel Cloud - File</title>
    <link rel="stylesheet" class="theme" href="css/nut-theme.css">
    <link rel="stylesheet" href="css/file.css">
    <script src="js/file.js"></script>
    <script src="js/utils.js"></script>
</head>

<html>
<body onload="load()">
    <!-- right click menu -->
    <div class="context_menu" id="right_click_menu">
        <ul>
            <li id="menu_download">Download</li>
            <li id="menu_preview">Preview</li>
            <li id="menu_rename">Rename</li>
            <li id="menu_move">Move</li>
            <li id="menu_delete">Delete</li>
            <li id="menu_pin">Pin</li>
            <li id="menu_unpin">Unpin</li>
            <li id="menu_link">Create Link</li>
            <li id="menu_share">Share</li>
            <li id="menu_size">Size</li>
        </ul>
    </div>

    <!-- path selector -->
    <div id="path_selector">
        <div id="path_selector_container">
            <div id="selected_path_row">
                <form id="selected_path_form">
                    <input type="text" id="selected_path" value="/">
                    <button type="button" onclick="load_selector_directory_table()">Go</button>
                </form>
                <button onclick="selector_mkdir()">New directory</button>
                <button onclick="selector_to_parent()">‚¨ÖÔ∏è</button>
                <button onclick="selector_to_home()">üè†</button>
            </div>
            <div id="path_selector_list">
                <ul id="path_selector_ul">
                    <!-- path list -->
                </ul>
            </div>
            <button id="path_selector_cancel" onclick="close_path_selector()">Cancel</button>
            <button id="path_selector_ok" onclick="ok_path_selector()">OK</button>
        </div>
    </div>
    
    <main>
        <!-- Section of files -->
        <section id="nav_section">
            <!-- form of current path -->
            <div id="current_path_row">
                <form id="current_path_form">
                    <input type="text" id="current_path" value="/">
                    <button type="button" onclick="load_files()">Go</button>
                </form>
                <button onclick="mkdir()">New directory</button>
                <button onclick="to_parent()">‚¨ÖÔ∏è</button>
                <button onclick="to_home()">üè†</button>
            </div>

            <!-- form of search -->
            <form id="search_form">
                <input type="text" id="search">
                <button type="button" onclick="search_file()">Search</button>
            </form>
        </section>

        <section id="file_section">

            <table id="file_table">
                <tr>
                    <th></th> <!-- file or directory icon -->
                    <th><label>Name</label><a id="sort_path" class="sort" onclick="update_sort('path')">‚ûñ</a></th>
                    <th><label>Size</label><a id="sort_size" class="sort" onclick="update_sort('size')">‚ûñ</a></th>
                    <th><label>Tags</label></th>
                    <th><label>Remark</label></th>
                    <th><label>Time Created</label><a id="sort_create_at" class="sort" onclick="update_sort('create_at')">‚ûñ</a></th>
                    <th>Pin</th>
                </tr>
            </table>
        </section>

        <!-- Section of uploading function -->
        <section id="upload_section">
            <div id="upload_container">
                <p>Upload Your file here.</p>
                <form>
                    <input type="file" name="file" id="file">
                    <button id="upload_file_button" type="button" onclick="upload_file()">Upload!</button>
                </form>
                <form>
                    <input type="file" name="files" id="directory" webkitdirectory directory multiple>
                    <button id="upload_directory_button" type="button" onclick="upload_directory()">Upload!</button>
                </form>
            </div>
            <div id="progress_bar_container">
                <progress id="progress_bar" value="0" max="100"></progress>
                <label id="progress_bytes"></label>
                <label id="progress_speed"></label>
                <label id="progress_percent"></label>
                <label id="progress_remaining"></label>
            </div>
        </section>
    </main>
</body>
</html>